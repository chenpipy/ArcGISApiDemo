<!DOCTYPE html>
<html>
<head>
    <title>给图层添加标注</title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <meta http-equiv="Access-Control-Allow-Origin" content="*">
    <link rel="stylesheet" href="https://js.arcgis.com/3.23/esri/css/esri.css">
    <script src="https://js.arcgis.com/3.23/"></script>
    <style>
        #map {
            position: relative;
            height: 500px;
            width: 100%;
        }
    </style>
</head>
<body>

<div id='map'>
</div>
<script>
  require([
    "esri/map",
    "esri/layers/FeatureLayer",
    "esri/layers/LabelClass",
    "esri/symbols/TextSymbol",
    "esri/Color",
    "esri/symbols/Font",
    "dojo/domReady!"], function (
    Map,
    FeatureLayer,
    LabelClass,
    TextSymbol,
    Color,
    Font,
    ArcGISTiledMapServiceLayer
  ) {
    var map = new Map("map", {
      center: [-94.75290067627297, 39.034671990514816],
      zoom: 10,
      basemap: "satellite",
      showLabels: true,
    })
    //定义featureLayer
    var feaLayer = new FeatureLayer("https://sampleserver1.arcgisonline.com/ArcGIS/rest/services/Petroleum/KGS_OilGasFields_Kansas/MapServer/0");
    map.addLayer(feaLayer);
    var textSymbol = new TextSymbol().setColor(new Color("#ff0000"))
      .setAlign(Font.ALIGN_START)
      .setAngle(0)
      .setFont(new Font("8pt"))
      .setWeight(Font.WEIGHT_BOLDER)
    var formatJson = {
      "labelExpressionInfo": {"value": "{NAME}"},
      "labelPlacement": 'bottom-left',
      'symbol': textSymbol  //定义文字显示的样式
    }
    var labelClass = new LabelClass(formatJson);
    feaLayer.setLabelingInfo([labelClass]);
  });
</script>
</body>
</html>
